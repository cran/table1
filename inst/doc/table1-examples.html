<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Benjamin Rich" />

<meta name="date" content="2018-04-25" />

<title>Using the table1 Package to Create HMTL Tables of Descriptive Statistics</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20900px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0A%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />
<link href="data:text/css;charset=utf-8,table%2ERtable1%20%7B%0Afont%2Dfamily%3A%20%22Arial%22%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2010pt%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0Apadding%3A%200px%3B%0Amargin%3A%200px%3B%0Amargin%2Dbottom%3A%2010pt%3B%0A%7D%0A%2ERtable1%20th%2C%20%2ERtable1%20td%20%7B%0Aborder%3A%200%3B%0Atext%2Dalign%3A%20center%3B%0Apadding%3A%200%2E5ex%201%2E5ex%3B%0Amargin%3A%200px%3B%0A%7D%0A%2ERtable1%20thead%3Etr%3Afirst%2Dchild%3Eth%20%7B%0Aborder%2Dtop%3A%202pt%20solid%20black%3B%0A%7D%0A%2ERtable1%20thead%3Etr%3Alast%2Dchild%3Eth%20%7B%0Aborder%2Dbottom%3A%201pt%20solid%20black%3B%0A%7D%0A%2ERtable1%20tbody%3Etr%3Alast%2Dchild%3Etd%20%7B%0Aborder%2Dbottom%3A%202pt%20solid%20black%3B%0A%7D%0A%2ERtable1%20th%2Egrouplabel%20%7B%0Apadding%2Dleft%3A%200%3B%0Apadding%2Dright%3A%200%3B%0A%7D%0A%2ERtable1%20th%2Egrouplabel%3Ediv%20%7B%0Amargin%2Dleft%3A%201%2E5ex%3B%0Amargin%2Dright%3A%201%2E5ex%3B%0Aborder%2Dbottom%3A%201pt%20solid%20black%3B%0A%7D%0A%2ERtable1%20th%2Egrouplabel%3Alast%2Dchild%3Ediv%20%7B%0Amargin%2Dright%3A%200%3B%0A%7D%0A%2ERtable1%20%2Erowlabel%20%7B%0Atext%2Dalign%3A%20left%3B%0Apadding%2Dleft%3A%202%2E5ex%3B%0A%7D%0A%2ERtable1%20%2Efirstrow%20%7B%0Apadding%2Dleft%3A%200%2E5ex%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%0A%2Estyle2%20tbody%20tr%3Anth%2Dchild%28odd%29%20%7B%0Abackground%2Dcolor%3A%20%23eee%3B%0A%7D%0Atable%2Estyle3%20%7B%0Afont%2Dfamily%3A%20%22Times%20New%20Roman%22%2C%20Times%2C%20serif%3B%0Afont%2Dsize%3A%2011pt%3B%0A%7D%0A%2Estyle3%20th%20%7B%0Abackground%2Dcolor%3A%20%23ccc%3B%0A%7D%0A%2Estyle3%20th%2C%20%2Estyle3%20td%20%7B%0Aborder%2Dleft%3A%201pt%20solid%20black%3B%0Aborder%2Dright%3A%201pt%20solid%20black%3B%0A%7D%0A%2Estyle3%20thead%3Etr%3Afirst%2Dchild%3Eth%20%7B%0Aborder%2Dtop%3A%201pt%20solid%20black%3B%0A%7D%0A%2Estyle3%20thead%3Etr%3Alast%2Dchild%3Eth%20%7B%0Aborder%2Dbottom%3A%201pt%20solid%20black%3B%0A%7D%0A%2Estyle3%20tbody%3Etr%3Alast%2Dchild%3Etd%20%7B%0Aborder%2Dbottom%3A%201pt%20solid%20black%3B%0A%7D%0A%2Estyle3%20%2Efirstrow%2C%20%2Estyle3%20%2Efirstrow%20%7E%20td%20%7B%0Aborder%2Dtop%3A%201pt%20solid%20black%3B%0A%7D%0A%2Estyle4%20td%20%7B%0Awhite%2Dspace%3Anowrap%3B%0A%7D%0A%2Estyle4%20td%2Efirstrow%20%7B%0Afont%2Dweight%3A%20normal%3B%0A%7D%0A%2Estyle4%20td%2Erowlabel%20%7B%0Afont%2Dweight%3A%20bold%3B%0Atext%2Dalign%3A%20center%3B%0Apadding%2Dleft%3A%202%2E5ex%3B%0Apadding%2Dright%3A%202%2E5ex%3B%0A%7D%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">Using the table1 Package to Create HMTL Tables of Descriptive Statistics</h1>
<h4 class="author"><em>Benjamin Rich</em></h4>
<h4 class="date"><em>2018-04-25</em></h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>It is standard practice in epidemiology and related fields that the first table of any journal article, referred to as “Table 1”, is a table that presents descriptive statistics of baseline characteristics of the study population stratified by exposure. This package makes it fairly straightforward to produce such a table using R. The output format is HTML (which has the advantage of being easy to copy into a Word document; Chrome browser works well). The preferred way of using this package is in combination with knitr (for HTML generation; use R markdown or the spin format, for instance), making use of the <code>results=&quot;asis&quot;</code> chunk option to pass the HTML output through untouched (this vignette is a good example). The package does allow quite a bit of flexibility to customize the table’s contents and appearance, but this does come at the cost of ease-of-use (more programming, some knowledge of CSS).</p>
</div>
<div id="example-1" class="section level2">
<h2>Example 1</h2>
<p>The first example is inspired by <a href="http://gforge.se/2014/01/fast-track-publishing-using-knitr-part-iv/">this blog post</a>, which is about how to accomplish a similar task using the <code>htmlTable</code> package. It uses the <code>melanoma</code> data set from the <code>boot</code> package for illustration, and I have copied here the code used to prepare the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(boot) 

melanoma2 &lt;-<span class="st"> </span>melanoma
 
<span class="co"># Factor the basic variables that</span>
<span class="co"># we're interested in</span>
melanoma2$status &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">factor</span>(melanoma2$status, 
         <span class="dt">levels=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>),
         <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Alive&quot;</span>, <span class="co"># Reference</span>
                  <span class="st">&quot;Melanoma death&quot;</span>, 
                  <span class="st">&quot;Non-melanoma death&quot;</span>))</code></pre></div>
<p>As I first attempt, we can do the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span><span class="kw">factor</span>(sex) +<span class="st"> </span>age +<span class="st"> </span><span class="kw">factor</span>(ulcer) +<span class="st"> </span>thickness |<span class="st"> </span>status, <span class="dt">data=</span>melanoma2)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Alive<br><span class="stratn">(n=134)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Melanoma death<br><span class="stratn">(n=57)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Non-melanoma death<br><span class="stratn">(n=14)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=205)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">factor(sex)</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
0
</td>
<td>
91 (67.9%)
</td>
<td>
28 (49.1%)
</td>
<td>
7 (50.0%)
</td>
<td>
126 (61.5%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
1
</td>
<td class="lastrow">
43 (32.1%)
</td>
<td class="lastrow">
29 (50.9%)
</td>
<td class="lastrow">
7 (50.0%)
</td>
<td class="lastrow">
79 (38.5%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">age</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
50.0 (15.9)
</td>
<td>
55.1 (17.9)
</td>
<td>
65.3 (10.9)
</td>
<td>
52.5 (16.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
52.0 [4.00, 84.0]
</td>
<td class="lastrow">
56.0 [14.0, 95.0]
</td>
<td class="lastrow">
65.0 [49.0, 86.0]
</td>
<td class="lastrow">
54.0 [4.00, 95.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">factor(ulcer)</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
0
</td>
<td>
92 (68.7%)
</td>
<td>
16 (28.1%)
</td>
<td>
7 (50.0%)
</td>
<td>
115 (56.1%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
1
</td>
<td class="lastrow">
42 (31.3%)
</td>
<td class="lastrow">
41 (71.9%)
</td>
<td class="lastrow">
7 (50.0%)
</td>
<td class="lastrow">
90 (43.9%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">thickness</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
2.24 (2.33)
</td>
<td>
4.31 (3.57)
</td>
<td>
3.72 (3.63)
</td>
<td>
2.92 (2.96)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
1.36 [0.100, 12.9]
</td>
<td class="lastrow">
3.54 [0.320, 17.4]
</td>
<td class="lastrow">
2.26 [0.160, 12.6]
</td>
<td class="lastrow">
1.94 [0.100, 17.4]
</td>
</tr>
</tbody>
</table>
<p>Note that the <code>table1</code> package uses a familiar formula interface, where the variables to include in the table are separated by ‘+’ symbols, the “stratification” variable (which creates the columns) appears to the right of a “conditioning” symbol ‘|’, and the <code>data</code> argument specifies a <code>data.frame</code> that contains the variables in the formula.</p>
<p>But because we don’t have nice labels for the variables and categories, it doesn’t look great. To improve things, we can create factors with descriptive labels for the categorical variables (<code>sex</code> and <code>ulcer</code>), label each variable the way we want, and specify units for the continuous variables (<code>age</code> and <code>thickness</code>), like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">melanoma2$sex &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">factor</span>(melanoma2$sex, <span class="dt">levels=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>),
         <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Male&quot;</span>, 
                  <span class="st">&quot;Female&quot;</span>))
 
melanoma2$ulcer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw">factor</span>(melanoma2$ulcer, <span class="dt">levels=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),
         <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Absent&quot;</span>, 
                  <span class="st">&quot;Present&quot;</span>))

<span class="kw">label</span>(melanoma2$sex)       &lt;-<span class="st"> &quot;Sex&quot;</span>
<span class="kw">label</span>(melanoma2$age)       &lt;-<span class="st"> &quot;Age&quot;</span>
<span class="kw">label</span>(melanoma2$ulcer)     &lt;-<span class="st"> &quot;Ulceration&quot;</span>
<span class="kw">label</span>(melanoma2$thickness) &lt;-<span class="st"> &quot;Thickness&quot;</span>

<span class="kw">units</span>(melanoma2$age)       &lt;-<span class="st"> &quot;years&quot;</span>
<span class="kw">units</span>(melanoma2$thickness) &lt;-<span class="st"> &quot;mm&quot;</span>

<span class="kw">table1</span>(~<span class="st"> </span>sex +<span class="st"> </span>age +<span class="st"> </span>ulcer +<span class="st"> </span>thickness |<span class="st"> </span>status, <span class="dt">data=</span>melanoma2, <span class="dt">overall=</span><span class="st">&quot;Total&quot;</span>)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Alive<br><span class="stratn">(n=134)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Melanoma death<br><span class="stratn">(n=57)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Non-melanoma death<br><span class="stratn">(n=14)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Total<br><span class="stratn">(n=205)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Male
</td>
<td>
43 (32.1%)
</td>
<td>
29 (50.9%)
</td>
<td>
7 (50.0%)
</td>
<td>
79 (38.5%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Female
</td>
<td class="lastrow">
91 (67.9%)
</td>
<td class="lastrow">
28 (49.1%)
</td>
<td class="lastrow">
7 (50.0%)
</td>
<td class="lastrow">
126 (61.5%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
50.0 (15.9)
</td>
<td>
55.1 (17.9)
</td>
<td>
65.3 (10.9)
</td>
<td>
52.5 (16.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
52.0 [4.00, 84.0]
</td>
<td class="lastrow">
56.0 [14.0, 95.0]
</td>
<td class="lastrow">
65.0 [49.0, 86.0]
</td>
<td class="lastrow">
54.0 [4.00, 95.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Ulceration</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Absent
</td>
<td>
92 (68.7%)
</td>
<td>
16 (28.1%)
</td>
<td>
7 (50.0%)
</td>
<td>
115 (56.1%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Present
</td>
<td class="lastrow">
42 (31.3%)
</td>
<td class="lastrow">
41 (71.9%)
</td>
<td class="lastrow">
7 (50.0%)
</td>
<td class="lastrow">
90 (43.9%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Thickness<span class="varunits"> (mm)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
2.24 (2.33)
</td>
<td>
4.31 (3.57)
</td>
<td>
3.72 (3.63)
</td>
<td>
2.92 (2.96)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
1.36 [0.100, 12.9]
</td>
<td class="lastrow">
3.54 [0.320, 17.4]
</td>
<td class="lastrow">
2.26 [0.160, 12.6]
</td>
<td class="lastrow">
1.94 [0.100, 17.4]
</td>
</tr>
</tbody>
</table>
<p>This looks better, but still not quite the same as the original blog post: in the blog post the “Total” column is on the left, while we have it on the right; the two “Death” strata (Melanoma and Non-melanoma) should be grouped together under a common heading; the continuous variables Age and Thickness show only Means (SD) (with a ±), and not Median [Min, Max] like the <code>table1</code> default output; most values are displayed with two significant digits rather than three (I will not concern myself with the footnote here, but it could be added as well). To achieve the same result, we need to customize the output further, and in this case that involves using the slightly more complicated “default” (i.e. non-formula) interface to <code>table1</code>.</p>
<p>First, we set up our labels differently, using a list:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">labels &lt;-<span class="st"> </span><span class="kw">list</span>(
    <span class="dt">variables=</span><span class="kw">list</span>(<span class="dt">sex=</span><span class="st">&quot;Sex&quot;</span>,
                   <span class="dt">age=</span><span class="st">&quot;Age (years)&quot;</span>,
                   <span class="dt">ulcer=</span><span class="st">&quot;Ulceration&quot;</span>,
                   <span class="dt">thickness=</span><span class="st">&quot;Thickness (mm)&quot;</span>),
    <span class="dt">groups=</span><span class="kw">list</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;Death&quot;</span>))

<span class="co"># Remove the word &quot;death&quot; from the labels, since it now appears above</span>
<span class="kw">levels</span>(melanoma2$status) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Alive&quot;</span>, <span class="st">&quot;Melanoma&quot;</span>, <span class="st">&quot;Non-melanoma&quot;</span>)</code></pre></div>
<p>Next, we set up our “strata”, or column, as a list of <code>data.frame</code>s, in the order we want them displayed:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">strata &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">list</span>(<span class="dt">Total=</span>melanoma2), <span class="kw">split</span>(melanoma2, melanoma2$status))</code></pre></div>
<p>Finally, we can customize the contents using custom renderers. A custom render can be a function that take a vector as the first argument and return a (named) character vector. There is also a simpler way to customize the table contents using an abbreviated code syntax instead of a render function, but it allows less control over rounding (see below). Here, for example, we specify render functions for the continuous and categorical variables as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my.render.cont &lt;-<span class="st"> </span>function(x) {
    <span class="kw">with</span>(<span class="kw">stats.apply.rounding</span>(<span class="kw">stats.default</span>(x), <span class="dt">digits=</span><span class="dv">2</span>), <span class="kw">c</span>(<span class="st">&quot;&quot;</span>,
        <span class="st">&quot;Mean (SD)&quot;</span>=<span class="kw">sprintf</span>(<span class="st">&quot;%s (&amp;plusmn; %s)&quot;</span>, MEAN, SD)))
}
my.render.cat &lt;-<span class="st"> </span>function(x) {
    <span class="kw">c</span>(<span class="st">&quot;&quot;</span>, <span class="kw">sapply</span>(<span class="kw">stats.default</span>(x), function(y) <span class="kw">with</span>(y,
        <span class="kw">sprintf</span>(<span class="st">&quot;%d (%0.0f %%)&quot;</span>, FREQ, PCT))))
}</code></pre></div>
<p>And here is the result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(strata, labels, <span class="dt">groupspan=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>),
       <span class="dt">render.continuous=</span>my.render.cont, <span class="dt">render.categorical=</span>my.render.cat)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="grouplabel">
</th>
<th colspan="1" class="grouplabel">
</th>
<th colspan="1" class="grouplabel">
</th>
<th colspan="2" class="grouplabel">
<div>
Death
</div>
</th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Total<br><span class="stratn">(n=205)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Alive<br><span class="stratn">(n=134)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Melanoma<br><span class="stratn">(n=57)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Non-melanoma<br><span class="stratn">(n=14)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
Sex
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Male
</td>
<td>
79 (39 %)
</td>
<td>
43 (32 %)
</td>
<td>
29 (51 %)
</td>
<td>
7 (50 %)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Female
</td>
<td class="lastrow">
126 (61 %)
</td>
<td class="lastrow">
91 (68 %)
</td>
<td class="lastrow">
28 (49 %)
</td>
<td class="lastrow">
7 (50 %)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
Age (years)
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Mean (SD)
</td>
<td class="lastrow">
52 (± 17)
</td>
<td class="lastrow">
50 (± 16)
</td>
<td class="lastrow">
55 (± 18)
</td>
<td class="lastrow">
65 (± 11)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
Ulceration
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Absent
</td>
<td>
115 (56 %)
</td>
<td>
92 (69 %)
</td>
<td>
16 (28 %)
</td>
<td>
7 (50 %)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Present
</td>
<td class="lastrow">
90 (44 %)
</td>
<td class="lastrow">
42 (31 %)
</td>
<td class="lastrow">
41 (72 %)
</td>
<td class="lastrow">
7 (50 %)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
Thickness (mm)
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Mean (SD)
</td>
<td class="lastrow">
2.9 (± 3.0)
</td>
<td class="lastrow">
2.2 (± 2.3)
</td>
<td class="lastrow">
4.3 (± 3.6)
</td>
<td class="lastrow">
3.7 (± 3.6)
</td>
</tr>
</tbody>
</table>
<p>This is now looking pretty similar to the original blog post, but admittedly there are still some differences: the sexes are inverted (the original blog post got it wrong); I added units to the continuous variables; I include the number of individuals in each column under the column heading; the percentages are different, because I think they should add to 100% within a column, and in the original blog post they add to 100% along a row (except for the Total column, which adds to 100% within the column). This last point is the most contentious. In my version, it is easier to compare the different types of outcomes with respect to variables like sex, while in the original version it is easier to compare sexes with respect to outcomes. However, this is not really the standard application for these kinds of tables (at least not the one I have in mind). Usually, the columns would represent exposure or treatment groups, not outcomes, and we want to compare those groups with respect to the distribution of baseline characteristics, and for this purpose having percentages add up to 100% within columns makes the most sense. Let’s continue with an example of that nature, using simulated data.</p>
</div>
<div id="example-2" class="section level2">
<h2>Example 2</h2>
<p>For this second example, we will use simulated data. We imagine a clinical trial where subjects have been randomized in a 2:1 ratio to receive an active treatment or placebo. For simplicity, we will only consider three baseline characteristics: age, sex and weight.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span>function(x, n, ...) <span class="kw">factor</span>(<span class="kw">sample</span>(x, n, <span class="dt">replace=</span>T, ...), <span class="dt">levels=</span>x)
<span class="kw">set.seed</span>(<span class="dv">427</span>)

n &lt;-<span class="st"> </span><span class="dv">146</span>
dat &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">id=</span><span class="dv">1</span>:n)
dat$treat &lt;-<span class="st"> </span><span class="kw">f</span>(<span class="kw">c</span>(<span class="st">&quot;Placebo&quot;</span>, <span class="st">&quot;Treated&quot;</span>), n, <span class="dt">prob=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="co"># 2:1 randomization</span>
dat$age   &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">18</span>:<span class="dv">65</span>, n, <span class="dt">replace=</span><span class="ot">TRUE</span>)
dat$sex   &lt;-<span class="st"> </span><span class="kw">f</span>(<span class="kw">c</span>(<span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Male&quot;</span>), n, <span class="dt">prob=</span><span class="kw">c</span>(.<span class="dv">6</span>, .<span class="dv">4</span>))  <span class="co"># 60% female</span>
dat$wt    &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">exp</span>(<span class="kw">rnorm</span>(n, <span class="kw">log</span>(<span class="dv">70</span>), <span class="fl">0.23</span>)), <span class="dv">1</span>)

<span class="co"># Add some missing data</span>
dat$wt[<span class="kw">sample.int</span>(n, <span class="dv">5</span>)] &lt;-<span class="st"> </span><span class="ot">NA</span>

<span class="kw">label</span>(dat$age)   &lt;-<span class="st"> &quot;Age&quot;</span>
<span class="kw">label</span>(dat$sex)   &lt;-<span class="st"> &quot;Sex&quot;</span>
<span class="kw">label</span>(dat$wt)    &lt;-<span class="st"> &quot;Weight&quot;</span>
<span class="kw">label</span>(dat$treat) &lt;-<span class="st"> &quot;Treatment Group&quot;</span>

<span class="kw">units</span>(dat$age)   &lt;-<span class="st"> &quot;years&quot;</span>
<span class="kw">units</span>(dat$wt)    &lt;-<span class="st"> &quot;kg&quot;</span></code></pre></div>
<p>Using the default settings, we obtain this table:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>age +<span class="st"> </span>sex +<span class="st"> </span>wt |<span class="st"> </span>treat, <span class="dt">data=</span>dat)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=94)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=146)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
44.2 (13.5)
</td>
<td>
41.3 (13.8)
</td>
<td>
42.3 (13.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
44.0 [19.0, 65.0]
</td>
<td class="lastrow">
43.0 [18.0, 65.0]
</td>
<td class="lastrow">
43.5 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
35 (67.3%)
</td>
<td>
58 (61.7%)
</td>
<td>
93 (63.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
17 (32.7%)
</td>
<td class="lastrow">
36 (38.3%)
</td>
<td class="lastrow">
53 (36.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
69.0 (15.0)
</td>
<td>
69.4 (17.9)
</td>
<td>
69.2 (16.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
67.2 [37.5, 119]
</td>
<td>
66.6 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
<td class="lastrow">
5 (3.4%)
</td>
</tr>
</tbody>
</table>
<p>Note that when contains missing values (here weight), be it continuous or categorical, these are reported as a distinct category (with count and percent).</p>
<p>The “Overall” column can be easily removed (or relabeled):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>age +<span class="st"> </span>sex +<span class="st"> </span>wt |<span class="st"> </span>treat, <span class="dt">data=</span>dat, <span class="dt">overall=</span>F)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=94)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
44.2 (13.5)
</td>
<td>
41.3 (13.8)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
44.0 [19.0, 65.0]
</td>
<td class="lastrow">
43.0 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
35 (67.3%)
</td>
<td>
58 (61.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
17 (32.7%)
</td>
<td class="lastrow">
36 (38.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
69.0 (15.0)
</td>
<td>
69.4 (17.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
67.2 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
</tr>
</tbody>
</table>
<p>We can also have stratification by two variables, in which case they are nested. For example, to see each treatment group split by sex:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>age +<span class="st"> </span>wt |<span class="st"> </span>treat*sex, <span class="dt">data=</span>dat)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="grouplabel">
</th>
<th colspan="2" class="grouplabel">
<div>
Placebo
</div>
</th>
<th colspan="2" class="grouplabel">
<div>
Treated
</div>
</th>
<th colspan="2" class="grouplabel">
<div>
Overall
</div>
</th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Female<br><span class="stratn">(n=35)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Male<br><span class="stratn">(n=17)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Female<br><span class="stratn">(n=58)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Male<br><span class="stratn">(n=36)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Female<br><span class="stratn">(n=93)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Male<br><span class="stratn">(n=53)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
42.8 (14.0)
</td>
<td>
47.2 (12.4)
</td>
<td>
40.7 (13.8)
</td>
<td>
42.3 (13.8)
</td>
<td>
41.5 (13.9)
</td>
<td>
43.8 (13.4)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
43.0 [19.0, 65.0]
</td>
<td class="lastrow">
52.0 [29.0, 65.0]
</td>
<td class="lastrow">
41.0 [18.0, 65.0]
</td>
<td class="lastrow">
46.5 [21.0, 61.0]
</td>
<td class="lastrow">
42.0 [18.0, 65.0]
</td>
<td class="lastrow">
48.0 [21.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
70.4 (15.9)
</td>
<td>
66.4 (13.4)
</td>
<td>
70.1 (15.3)
</td>
<td>
68.3 (21.6)
</td>
<td>
70.2 (15.4)
</td>
<td>
67.7 (19.2)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.4 [47.1, 102]
</td>
<td>
66.3 [45.8, 92.2]
</td>
<td>
67.9 [37.5, 111]
</td>
<td>
63.2 [40.0, 119]
</td>
<td>
67.4 [37.5, 111]
</td>
<td>
64.2 [40.0, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (8.6%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
<td class="lastrow">
2 (3.4%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
<td class="lastrow">
5 (5.4%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
</tr>
</tbody>
</table>
<p>Or, switch the order:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>age +<span class="st"> </span>wt |<span class="st"> </span>sex*treat, <span class="dt">data=</span>dat)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="grouplabel">
</th>
<th colspan="2" class="grouplabel">
<div>
Female
</div>
</th>
<th colspan="2" class="grouplabel">
<div>
Male
</div>
</th>
<th colspan="2" class="grouplabel">
<div>
Overall
</div>
</th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=35)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=58)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=17)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=36)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=94)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
42.8 (14.0)
</td>
<td>
40.7 (13.8)
</td>
<td>
47.2 (12.4)
</td>
<td>
42.3 (13.8)
</td>
<td>
44.2 (13.5)
</td>
<td>
41.3 (13.8)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
43.0 [19.0, 65.0]
</td>
<td class="lastrow">
41.0 [18.0, 65.0]
</td>
<td class="lastrow">
52.0 [29.0, 65.0]
</td>
<td class="lastrow">
46.5 [21.0, 61.0]
</td>
<td class="lastrow">
44.0 [19.0, 65.0]
</td>
<td class="lastrow">
43.0 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
70.4 (15.9)
</td>
<td>
70.1 (15.3)
</td>
<td>
66.4 (13.4)
</td>
<td>
68.3 (21.6)
</td>
<td>
69.0 (15.0)
</td>
<td>
69.4 (17.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.4 [47.1, 102]
</td>
<td>
67.9 [37.5, 111]
</td>
<td>
66.3 [45.8, 92.2]
</td>
<td>
63.2 [40.0, 119]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
67.2 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (8.6%)
</td>
<td class="lastrow">
2 (3.4%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
</tr>
</tbody>
</table>
<p>Or, no stratification:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>treat +<span class="st"> </span>age +<span class="st"> </span>sex +<span class="st"> </span>wt, <span class="dt">data=</span>dat)</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=146)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Treatment Group</span>
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Placebo
</td>
<td>
52 (35.6%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Treated
</td>
<td class="lastrow">
94 (64.4%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
42.3 (13.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
43.5 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
93 (63.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
53 (36.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
69.2 (16.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.6 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
5 (3.4%)
</td>
</tr>
</tbody>
</table>
<p>Finally, we may again consider something a bit more complicated, using the default (i.e., non-formula) interface. Suppose that instead of simply being assigned to placebo or active treatment, there were actually two doses of treatment randomized, 5 mg and 10 mg, and we want columns for each dose level separately, as well as for all treated subjects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat$dose &lt;-<span class="st"> </span>(dat$treat !=<span class="st"> &quot;Placebo&quot;</span>)*<span class="kw">sample</span>(<span class="dv">1</span>:<span class="dv">2</span>, n, <span class="dt">replace=</span>T)
dat$dose &lt;-<span class="st"> </span><span class="kw">factor</span>(dat$dose, <span class="dt">labels=</span><span class="kw">c</span>(<span class="st">&quot;Placebo&quot;</span>, <span class="st">&quot;5 mg&quot;</span>, <span class="st">&quot;10 mg&quot;</span>))

strata &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">split</span>(dat, dat$dose), <span class="kw">list</span>(<span class="st">&quot;All treated&quot;</span>=<span class="kw">subset</span>(dat, treat==<span class="st">&quot;Treated&quot;</span>)), <span class="kw">list</span>(<span class="dt">Overall=</span>dat))

labels &lt;-<span class="st"> </span><span class="kw">list</span>(
    <span class="dt">variables=</span><span class="kw">list</span>(<span class="dt">age=</span><span class="kw">render.varlabel</span>(dat$age),
                   <span class="dt">sex=</span><span class="kw">render.varlabel</span>(dat$sex),
                   <span class="dt">wt=</span><span class="kw">render.varlabel</span>(dat$wt)),
    <span class="dt">groups=</span><span class="kw">list</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;Treated&quot;</span>, <span class="st">&quot;&quot;</span>))

<span class="kw">table1</span>(strata, labels, <span class="dt">groupspan=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>))</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="grouplabel">
</th>
<th colspan="1" class="grouplabel">
</th>
<th colspan="3" class="grouplabel">
<div>
Treated
</div>
</th>
<th colspan="1" class="grouplabel">
</th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">5 mg<br><span class="stratn">(n=49)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">10 mg<br><span class="stratn">(n=45)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">All treated<br><span class="stratn">(n=94)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=146)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
44.2 (13.5)
</td>
<td>
42.6 (13.8)
</td>
<td>
39.9 (13.7)
</td>
<td>
41.3 (13.8)
</td>
<td>
42.3 (13.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
44.0 [19.0, 65.0]
</td>
<td class="lastrow">
45.0 [18.0, 63.0]
</td>
<td class="lastrow">
39.0 [21.0, 65.0]
</td>
<td class="lastrow">
43.0 [18.0, 65.0]
</td>
<td class="lastrow">
43.5 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
35 (67.3%)
</td>
<td>
28 (57.1%)
</td>
<td>
30 (66.7%)
</td>
<td>
58 (61.7%)
</td>
<td>
93 (63.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
17 (32.7%)
</td>
<td class="lastrow">
21 (42.9%)
</td>
<td class="lastrow">
15 (33.3%)
</td>
<td class="lastrow">
36 (38.3%)
</td>
<td class="lastrow">
53 (36.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
69.0 (15.0)
</td>
<td>
66.6 (18.3)
</td>
<td>
72.5 (17.1)
</td>
<td>
69.4 (17.9)
</td>
<td>
69.2 (16.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
63.3 [37.5, 119]
</td>
<td>
70.3 [48.1, 114]
</td>
<td>
67.2 [37.5, 119]
</td>
<td>
66.6 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
<td class="lastrow">
2 (4.4%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
<td class="lastrow">
5 (3.4%)
</td>
</tr>
</tbody>
</table>
</div>
<div id="using-abbreviated-code-to-specify-a-custom-renderer" class="section level2">
<h2>Using abbreviated code to specify a custom renderer</h2>
<p>Suppose that for continuous variables, we want to display the percent coefficient of variation (CV%) instead of the standard deviation (SD). We also want to display the geometric mean and geometric coefficient of variation. We already discussed custom render functions that could be used to accomplish this, but a simpler alternative is to use abbreviated code. This is a character string that contains certain keywords which are substituted for computed values in the table output. The list of recognized keywords comes from the output of the <code>stats.default</code> function and includes: N, NMISS, MEAN, SD, CV, GMEAN, GCV, MEDIAN, MIN, MAX, IQR, FREQ, PCT. Keyword matching is case insensitive, and any text other than the keywords is left untouched. We can specify a vector of character strings, in which case each result will be displayed in its own row in the table. We can use a named vector to specify labels for each row; a dot (‘.’) can be used to indicate that the abbreviated code string itself be used as the row label. Significant digits can be controlled using the <code>digits</code> argument (default: 3). Here is a continuation of the example from the previous section that produces the desired result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(strata, labels, <span class="dt">groupspan=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>),
       <span class="dt">render.continuous=</span><span class="kw">c</span>(<span class="dt">.=</span><span class="st">&quot;Mean (CV%)&quot;</span>, <span class="dt">.=</span><span class="st">&quot;Median [Min, Max]&quot;</span>,
                           <span class="st">&quot;Geo. mean (Geo. CV%)&quot;</span>=<span class="st">&quot;GMEAN (GCV%)&quot;</span>))</code></pre></div>
<table class="Rtable1">
<thead>
<tr>
<th class="grouplabel">
</th>
<th colspan="1" class="grouplabel">
</th>
<th colspan="3" class="grouplabel">
<div>
Treated
</div>
</th>
<th colspan="1" class="grouplabel">
</th>
</tr>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">5 mg<br><span class="stratn">(n=49)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">10 mg<br><span class="stratn">(n=45)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">All treated<br><span class="stratn">(n=94)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=146)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (CV%)
</td>
<td>
44.2 (30.6%)
</td>
<td>
42.6 (32.5%)
</td>
<td>
39.9 (34.3%)
</td>
<td>
41.3 (33.3%)
</td>
<td>
42.3 (32.4%)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
44.0 [19.0, 65.0]
</td>
<td>
45.0 [18.0, 63.0]
</td>
<td>
39.0 [21.0, 65.0]
</td>
<td>
43.0 [18.0, 65.0]
</td>
<td>
43.5 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Geo. mean (Geo. CV%)
</td>
<td class="lastrow">
42.0 (34.4%)
</td>
<td class="lastrow">
40.1 (38.3%)
</td>
<td class="lastrow">
37.5 (37.2%)
</td>
<td class="lastrow">
38.8 (37.7%)
</td>
<td class="lastrow">
39.9 (36.6%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
35 (67.3%)
</td>
<td>
28 (57.1%)
</td>
<td>
30 (66.7%)
</td>
<td>
58 (61.7%)
</td>
<td>
93 (63.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
17 (32.7%)
</td>
<td class="lastrow">
21 (42.9%)
</td>
<td class="lastrow">
15 (33.3%)
</td>
<td class="lastrow">
36 (38.3%)
</td>
<td class="lastrow">
53 (36.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (CV%)
</td>
<td>
69.0 (21.8%)
</td>
<td>
66.6 (27.5%)
</td>
<td>
72.5 (23.6%)
</td>
<td>
69.4 (25.8%)
</td>
<td>
69.2 (24.4%)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
63.3 [37.5, 119]
</td>
<td>
70.3 [48.1, 114]
</td>
<td>
67.2 [37.5, 119]
</td>
<td>
66.6 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel">
Geo. mean (Geo. CV%)
</td>
<td>
67.5 (21.5%)
</td>
<td>
64.3 (27.3%)
</td>
<td>
70.7 (23.1%)
</td>
<td>
67.2 (25.7%)
</td>
<td>
67.3 (24.3%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
0 (0.0%)
</td>
<td class="lastrow">
2 (4.4%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
<td class="lastrow">
5 (3.4%)
</td>
</tr>
</tbody>
</table>
</div>
<div id="using-css-to-control-the-tables-appearance" class="section level2">
<h2>Using CSS to control the table’s appearance</h2>
<p>One thing I did not mention is that the output of <code>table1()</code> is just a bunch of HTML tags. To get the table to render, you have to open it in a web browser. If you were to just run the code above, paste the output in a file with the .html extension, and open it in your browser, it wouldn’t look the same as the output I presented. That is deliberate, because it is intended that table’s appearance be customized through CSS, which is ideally suited to this purpose (the trade-off is that you have to know some CSS to achieve the desired results).</p>
<p>The expected way that this package is to used is in conjunction with <a href="rmarkdown.rstudio.com/">R Markdown</a>, making use of the <code>results='asis'</code> chunk option to have the HTML output appear as is in the final document. (at least, that’s how I use it). You can embed your own CSS in the document by including this in the YAML header of your file (where style.css is the name of the file that contains the CSS):</p>
<pre><code>output: 
  html_document:
    css: style.css</code></pre>
<p>If <code>style.css</code> contains these definitions, then you will get the same output as above:</p>
<div class="sourceCode"><pre class="sourceCode css"><code class="sourceCode css">table<span class="fl">.Rtable1</span> <span class="kw">{</span>
    <span class="kw">font-family:</span> <span class="st">&quot;Arial&quot;</span>, Arial, <span class="dt">sans-serif</span><span class="kw">;</span>
    <span class="kw">font-size:</span> <span class="dt">10pt</span><span class="kw">;</span>
    <span class="kw">border-collapse:</span> <span class="dt">collapse</span><span class="kw">;</span>
    <span class="kw">padding:</span> <span class="dt">0px</span><span class="kw">;</span>
    <span class="kw">margin:</span> <span class="dt">0px</span><span class="kw">;</span>
    <span class="kw">margin-bottom:</span> <span class="dt">10pt</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> th, <span class="fl">.Rtable1</span> td <span class="kw">{</span>
    <span class="kw">border:</span> <span class="dt">0</span><span class="kw">;</span>
    <span class="kw">text-align:</span> <span class="dt">center</span><span class="kw">;</span>
    <span class="kw">padding:</span> <span class="dt">0.5ex</span> <span class="dt">1.5ex</span><span class="kw">;</span>
    <span class="kw">margin:</span> <span class="dt">0px</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> thead&gt;tr<span class="dv">:first-child</span>&gt;th <span class="kw">{</span>
    <span class="kw">border-top:</span> <span class="dt">2pt</span> <span class="dt">solid</span> <span class="dt">black</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> thead&gt;tr<span class="dv">:last-child</span>&gt;th <span class="kw">{</span>
    <span class="kw">border-bottom:</span> <span class="dt">1pt</span> <span class="dt">solid</span> <span class="dt">black</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> tbody&gt;tr<span class="dv">:last-child</span>&gt;td <span class="kw">{</span>
    <span class="kw">border-bottom:</span> <span class="dt">2pt</span> <span class="dt">solid</span> <span class="dt">black</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> th<span class="fl">.grouplabel</span> <span class="kw">{</span>
    <span class="kw">padding-left:</span> <span class="dt">0</span><span class="kw">;</span>
    <span class="kw">padding-right:</span> <span class="dt">0</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> th<span class="fl">.grouplabel</span>&gt;div <span class="kw">{</span>
    <span class="kw">margin-left:</span> <span class="dt">1.5ex</span><span class="kw">;</span>
    <span class="kw">margin-right:</span> <span class="dt">1.5ex</span><span class="kw">;</span>
    <span class="kw">border-bottom:</span> <span class="dt">1pt</span> <span class="dt">solid</span> <span class="dt">black</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> th<span class="fl">.grouplabel</span><span class="dv">:last-child</span>&gt;div <span class="kw">{</span>
    <span class="kw">margin-right:</span> <span class="dt">0</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> <span class="fl">.rowlabel</span> <span class="kw">{</span>
    <span class="kw">text-align:</span> <span class="dt">left</span><span class="kw">;</span>
    <span class="kw">padding-left:</span> <span class="dt">2.5ex</span><span class="kw">;</span>
<span class="kw">}</span>
<span class="fl">.Rtable1</span> <span class="fl">.firstrow</span> <span class="kw">{</span>
    <span class="kw">padding-left:</span> <span class="dt">0.5ex</span><span class="kw">;</span>
    <span class="kw">font-weight:</span> <span class="dt">bold</span><span class="kw">;</span>
<span class="kw">}</span></code></pre></div>
<p>By changing the CSS, you can change the appearance of the table to your liking. Two examples are given below for illustration purposes (the <code>topclass</code> argument allows the class attribute of the toplevel tag to be changed, which in turn allows different CSS styles to be applied).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>age +<span class="st"> </span>sex +<span class="st"> </span>wt |<span class="st"> </span>treat, <span class="dt">data=</span>dat, <span class="dt">topclass=</span><span class="st">&quot;Rtable1 style2&quot;</span>)</code></pre></div>
<table class="Rtable1 style2">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=94)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=146)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
44.2 (13.5)
</td>
<td>
41.3 (13.8)
</td>
<td>
42.3 (13.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
44.0 [19.0, 65.0]
</td>
<td class="lastrow">
43.0 [18.0, 65.0]
</td>
<td class="lastrow">
43.5 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
35 (67.3%)
</td>
<td>
58 (61.7%)
</td>
<td>
93 (63.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
17 (32.7%)
</td>
<td class="lastrow">
36 (38.3%)
</td>
<td class="lastrow">
53 (36.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
69.0 (15.0)
</td>
<td>
69.4 (17.9)
</td>
<td>
69.2 (16.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
67.2 [37.5, 119]
</td>
<td>
66.6 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
<td class="lastrow">
5 (3.4%)
</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>age +<span class="st"> </span>sex +<span class="st"> </span>wt |<span class="st"> </span>treat, <span class="dt">data=</span>dat, <span class="dt">topclass=</span><span class="st">&quot;Rtable1 style3&quot;</span>)</code></pre></div>
<table class="Rtable1 style3">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Placebo<br><span class="stratn">(n=52)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Treated<br><span class="stratn">(n=94)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=146)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Age<span class="varunits"> (years)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
44.2 (13.5)
</td>
<td>
41.3 (13.8)
</td>
<td>
42.3 (13.7)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Median [Min, Max]
</td>
<td class="lastrow">
44.0 [19.0, 65.0]
</td>
<td class="lastrow">
43.0 [18.0, 65.0]
</td>
<td class="lastrow">
43.5 [18.0, 65.0]
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Sex</span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Female
</td>
<td>
35 (67.3%)
</td>
<td>
58 (61.7%)
</td>
<td>
93 (63.7%)
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Male
</td>
<td class="lastrow">
17 (32.7%)
</td>
<td class="lastrow">
36 (38.3%)
</td>
<td class="lastrow">
53 (36.3%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow">
<span class="varlabel">Weight<span class="varunits"> (kg)</span></span>
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
<td class="firstrow">
</td>
</tr>
<tr>
<td class="rowlabel">
Mean (SD)
</td>
<td>
69.0 (15.0)
</td>
<td>
69.4 (17.9)
</td>
<td>
69.2 (16.9)
</td>
</tr>
<tr>
<td class="rowlabel">
Median [Min, Max]
</td>
<td>
66.3 [45.8, 102]
</td>
<td>
67.2 [37.5, 119]
</td>
<td>
66.6 [37.5, 119]
</td>
</tr>
<tr>
<td class="rowlabel lastrow">
Missing
</td>
<td class="lastrow">
3 (5.8%)
</td>
<td class="lastrow">
2 (2.1%)
</td>
<td class="lastrow">
5 (3.4%)
</td>
</tr>
</tbody>
</table>
</div>
<div id="transposed-table" class="section level2">
<h2>Transposed table</h2>
<p>By default, the table produced by <code>table1</code> will have strata or subgroups as columns, and variables as rows. In some cases, it may be desirable to transpose the table such that each column is a variables and the rows are strata. This makes most sense when all the variables are continuous and when a compact representation is desired. It can be achieved by using the <code>transpose = TRUE</code> option.</p>
<p>An example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">i=</span><span class="dv">1</span>:<span class="dv">50</span>, <span class="dt">group=</span>LETTERS[<span class="dv">1</span>:<span class="dv">3</span>])
dat &lt;-<span class="st"> </span><span class="kw">cbind</span>(dat, <span class="kw">matrix</span>(<span class="kw">round</span>(<span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">6</span>*<span class="kw">nrow</span>(dat))), <span class="dv">1</span>), <span class="dt">nrow=</span><span class="kw">nrow</span>(dat)))
<span class="kw">names</span>(dat)[<span class="dv">3</span>:<span class="dv">8</span>] &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;V&quot;</span>, <span class="dv">1</span>:<span class="dv">6</span>)</code></pre></div>
<p>Default:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>V1 +<span class="st"> </span>V2 +<span class="st"> </span>V3 +<span class="st"> </span>V4 +<span class="st"> </span>V5 +<span class="st"> </span>V6 |<span class="st"> </span>group, <span class="dt">data=</span>dat,
       <span class="dt">topclass=</span><span class="st">&quot;Rtable1 style3 style4&quot;</span>,
       <span class="dt">render=</span><span class="st">&quot;Mean (CV%)&lt;br/&gt;Median [Min, Max]&lt;br/&gt;GMean (GCV%)&quot;</span>)</code></pre></div>
<table class="Rtable1 style3 style4">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="stratlabel">A<br><span class="stratn">(n=50)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">B<br><span class="stratn">(n=50)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">C<br><span class="stratn">(n=50)</span></span>
</th>
<th class="firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=150)</span></span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="varlabel">V1</span>
</td>
<td class="firstrow lastrow">
1.55 (95.7%)<br />1.25 [0.100, 7.80]<br />1.08 (110.8%)
</td>
<td class="firstrow lastrow">
1.64 (142.2%)<br />1.05 [0.100, 12.7]<br />0.789 (206.3%)
</td>
<td class="firstrow lastrow">
1.75 (154.4%)<br />1.05 [0.200, 13.6]<br />1.02 (122.3%)
</td>
<td class="firstrow lastrow">
1.64 (134.7%)<br />1.10 [0.100, 13.6]<br />0.952 (144.6%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="varlabel">V2</span>
</td>
<td class="firstrow lastrow">
1.17 (99.5%)<br />0.900 [0.200, 6.30]<br />0.781 (115.2%)
</td>
<td class="firstrow lastrow">
1.60 (128.2%)<br />0.900 [0.100, 11.4]<br />0.913 (145.0%)
</td>
<td class="firstrow lastrow">
1.45 (141.8%)<br />0.850 [0.100, 13.4]<br />0.829 (145.8%)
</td>
<td class="firstrow lastrow">
1.41 (128.3%)<br />0.900 [0.100, 13.4]<br />0.839 (134.1%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="varlabel">V3</span>
</td>
<td class="firstrow lastrow">
1.71 (129.4%)<br />0.900 [0.100, 10.2]<br />1.00 (134.2%)
</td>
<td class="firstrow lastrow">
2.48 (341.2%)<br />0.950 [0.100, 60.5]<br />0.961 (145.8%)
</td>
<td class="firstrow lastrow">
1.43 (107.5%)<br />1.10 [0.200, 9.70]<br />0.992 (102.5%)
</td>
<td class="firstrow lastrow">
1.87 (273.2%)<br />1.00 [0.100, 60.5]<br />0.985 (125.9%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="varlabel">V4</span>
</td>
<td class="firstrow lastrow">
1.34 (110.5%)<br />0.900 [0.200, 7.40]<br />0.890 (109.0%)
</td>
<td class="firstrow lastrow">
1.72 (158.5%)<br />0.850 [0.100, 18.0]<br />0.992 (125.9%)
</td>
<td class="firstrow lastrow">
1.69 (122.0%)<br />1.05 [0.100, 12.2]<br />1.02 (137.5%)
</td>
<td class="firstrow lastrow">
1.58 (135.3%)<br />0.900 [0.100, 18.0]<br />0.966 (123.1%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="varlabel">V5</span>
</td>
<td class="firstrow lastrow">
1.56 (127.8%)<br />0.800 [0.200, 9.60]<br />0.912 (129.7%)
</td>
<td class="firstrow lastrow">
1.79 (138.8%)<br />1.05 [0.100, 15.1]<br />1.00 (150.0%)
</td>
<td class="firstrow lastrow">
1.64 (65.8%)<br />1.30 [0.100, 4.50]<br />1.28 (90.9%)
</td>
<td class="firstrow lastrow">
1.66 (116.1%)<br />1.10 [0.100, 15.1]<br />1.05 (123.9%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="varlabel">V6</span>
</td>
<td class="firstrow lastrow">
1.60 (93.6%)<br />1.20 [0.100, 7.10]<br />1.07 (122.4%)
</td>
<td class="firstrow lastrow">
1.92 (201.4%)<br />0.800 [0.100, 26.4]<br />0.894 (168.6%)
</td>
<td class="firstrow lastrow">
2.32 (144.0%)<br />1.05 [0.100, 19.9]<br />1.21 (170.4%)
</td>
<td class="firstrow lastrow">
1.94 (157.5%)<br />1.00 [0.100, 26.4]<br />1.05 (153.1%)
</td>
</tr>
</tbody>
</table>
<p>Transposed:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table1</span>(~<span class="st"> </span>V1 +<span class="st"> </span>V2 +<span class="st"> </span>V3 +<span class="st"> </span>V4 +<span class="st"> </span>V5 +<span class="st"> </span>V6 |<span class="st"> </span>group, <span class="dt">data=</span>dat,
       <span class="dt">topclass=</span><span class="st">&quot;Rtable1 style3 style4&quot;</span>,
       <span class="dt">render=</span><span class="st">&quot;Mean (CV%)&lt;br/&gt;Median [Min, Max]&lt;br/&gt;GMean (GCV%)&quot;</span>,
       <span class="dt">transpose=</span><span class="ot">TRUE</span>)</code></pre></div>
<table class="Rtable1 style3 style4">
<thead>
<tr>
<th class="rowlabel firstrow lastrow">
</th>
<th class="firstrow lastrow">
<span class="varlabel">V1</span>
</th>
<th class="firstrow lastrow">
<span class="varlabel">V2</span>
</th>
<th class="firstrow lastrow">
<span class="varlabel">V3</span>
</th>
<th class="firstrow lastrow">
<span class="varlabel">V4</span>
</th>
<th class="firstrow lastrow">
<span class="varlabel">V5</span>
</th>
<th class="firstrow lastrow">
<span class="varlabel">V6</span>
</th>
</tr>
</thead>
<tbody>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="stratlabel">A<br><span class="stratn">(n=50)</span></span>
</td>
<td class="firstrow lastrow">
1.55 (95.7%)<br />1.25 [0.100, 7.80]<br />1.08 (110.8%)
</td>
<td class="firstrow lastrow">
1.17 (99.5%)<br />0.900 [0.200, 6.30]<br />0.781 (115.2%)
</td>
<td class="firstrow lastrow">
1.71 (129.4%)<br />0.900 [0.100, 10.2]<br />1.00 (134.2%)
</td>
<td class="firstrow lastrow">
1.34 (110.5%)<br />0.900 [0.200, 7.40]<br />0.890 (109.0%)
</td>
<td class="firstrow lastrow">
1.56 (127.8%)<br />0.800 [0.200, 9.60]<br />0.912 (129.7%)
</td>
<td class="firstrow lastrow">
1.60 (93.6%)<br />1.20 [0.100, 7.10]<br />1.07 (122.4%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="stratlabel">B<br><span class="stratn">(n=50)</span></span>
</td>
<td class="firstrow lastrow">
1.64 (142.2%)<br />1.05 [0.100, 12.7]<br />0.789 (206.3%)
</td>
<td class="firstrow lastrow">
1.60 (128.2%)<br />0.900 [0.100, 11.4]<br />0.913 (145.0%)
</td>
<td class="firstrow lastrow">
2.48 (341.2%)<br />0.950 [0.100, 60.5]<br />0.961 (145.8%)
</td>
<td class="firstrow lastrow">
1.72 (158.5%)<br />0.850 [0.100, 18.0]<br />0.992 (125.9%)
</td>
<td class="firstrow lastrow">
1.79 (138.8%)<br />1.05 [0.100, 15.1]<br />1.00 (150.0%)
</td>
<td class="firstrow lastrow">
1.92 (201.4%)<br />0.800 [0.100, 26.4]<br />0.894 (168.6%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="stratlabel">C<br><span class="stratn">(n=50)</span></span>
</td>
<td class="firstrow lastrow">
1.75 (154.4%)<br />1.05 [0.200, 13.6]<br />1.02 (122.3%)
</td>
<td class="firstrow lastrow">
1.45 (141.8%)<br />0.850 [0.100, 13.4]<br />0.829 (145.8%)
</td>
<td class="firstrow lastrow">
1.43 (107.5%)<br />1.10 [0.200, 9.70]<br />0.992 (102.5%)
</td>
<td class="firstrow lastrow">
1.69 (122.0%)<br />1.05 [0.100, 12.2]<br />1.02 (137.5%)
</td>
<td class="firstrow lastrow">
1.64 (65.8%)<br />1.30 [0.100, 4.50]<br />1.28 (90.9%)
</td>
<td class="firstrow lastrow">
2.32 (144.0%)<br />1.05 [0.100, 19.9]<br />1.21 (170.4%)
</td>
</tr>
<tr>
<td class="rowlabel firstrow lastrow">
<span class="stratlabel">Overall<br><span class="stratn">(n=150)</span></span>
</td>
<td class="firstrow lastrow">
1.64 (134.7%)<br />1.10 [0.100, 13.6]<br />0.952 (144.6%)
</td>
<td class="firstrow lastrow">
1.41 (128.3%)<br />0.900 [0.100, 13.4]<br />0.839 (134.1%)
</td>
<td class="firstrow lastrow">
1.87 (273.2%)<br />1.00 [0.100, 60.5]<br />0.985 (125.9%)
</td>
<td class="firstrow lastrow">
1.58 (135.3%)<br />0.900 [0.100, 18.0]<br />0.966 (123.1%)
</td>
<td class="firstrow lastrow">
1.66 (116.1%)<br />1.10 [0.100, 15.1]<br />1.05 (123.9%)
</td>
<td class="firstrow lastrow">
1.94 (157.5%)<br />1.00 [0.100, 26.4]<br />1.05 (153.1%)
</td>
</tr>
</tbody>
</table>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
